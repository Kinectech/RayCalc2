<ion-header>
    <ion-toolbar>
        <ion-title>
            Calculator
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-card class="select-ssd" href="">
        <ion-card-header>
            <ion-card-subtitle>Available in 6MV, 10MV, and 18MV</ion-card-subtitle>
            <ion-card-title>SSD Calculation</ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <ion-button expand="block">Calculate</ion-button>
        </ion-card-content>
    </ion-card>
    <ion-card class="select-sad">
        <ion-card-header>
            <ion-card-subtitle>Available in 6MV, 10MV, and 18MV</ion-card-subtitle>
            <ion-card-title>SAD Calculation</ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <ion-button expand="block">Calculate</ion-button>
        </ion-card-content>
    </ion-card>
    <ion-list lines="none">
        <ion-list-header>
            <ion-label>Resources</ion-label>
        </ion-list-header>
        <ion-item href="https://sites.google.com/view/raycalc/home">
            <ion-icon slot="start" color="medium" name="book"></ion-icon>
            <ion-label>RayCalc FAQ</ion-label>
        </ion-item>
        <ion-item href="https://docs.google.com/forms/d/e/1FAIpQLSeDoR3JJOKJZvcsDvOYMcrn4JOfZgYgWlriobIT4yFiPmE6NQ/viewform">
            <ion-icon slot="start" color="medium" name="build"></ion-icon>
            <ion-label>Report a Bug</ion-label>
        </ion-item>
        <ion-item href="https://docs.google.com/forms/d/e/1FAIpQLSc7Lt6_qq2z_7HcFqP2ayxSebBA4QWw4l8RY_iJf3HFGzcY6g/viewform">
            <ion-icon slot="start" color="medium" name="send"></ion-icon>
            <ion-label>Request a Feature</ion-label>
        </ion-item>
        <ion-item class="open-settings">
            <ion-icon slot="start" color="medium" name="settings"></ion-icon>
            <ion-label>Settings</ion-label>
        </ion-item>
    </ion-list>
</ion-content>

<script>
        customElements.define('modal-content', class ModalContent extends HTMLElement {
          connectedCallback() {
            this.innerHTML = `
              <ion-header translucent>
                <ion-toolbar>
                  <ion-title>Modal Content</ion-title>
                  <ion-buttons slot="end">
                    <ion-button onclick="dismissModal()">Close</ion-button>
                  </ion-buttons>
                </ion-toolbar>
              </ion-header>
              <ion-content fullscreen>
                <ion-list>
                  <ion-item>
                    <ion-avatar slot="start">
                      <ion-img src="./avatar-gollum.jpg"/>
                    </ion-avatar>
                    <ion-label>
                      <h2>Gollum</h2>
                      <p>Sneaky little hobbitses!</p>
                    </ion-label>
                  </ion-item>
                  <ion-item>
                    <ion-avatar slot="start">
                      <ion-img src="./avatar-frodo.jpg"/>
                    </ion-avatar>
                    <ion-label>
                      <h2>Frodo</h2>
                      <p>Go back, Sam! I'm going to Mordor alone!</p>
                    </ion-label>
                  </ion-item>
                  <ion-item>
                    <ion-avatar slot="start">
                      <ion-img src="./avatar-samwise.jpg"/>
                    </ion-avatar>
                    <ion-label>
                      <h2>Samwise</h2>
                      <p>What we need is a few good taters.</p>
                    </ion-label>
                  </ion-item>
                </ion-list>
              </ion-content>
            `;
          }
        });
        let currentModal = null;
        const controller = document.querySelector('ion-modal-controller');
        const button = document.querySelector('.open-settings');
        button.addEventListener('click', createModal);
        function createModal() {
          controller.create({
            component: 'modal-content'
          }).then(modal => {
            modal.present();
            currentModal = modal;
          });
        }
        function dismissModal() {
          if (currentModal) {
            currentModal.dismiss().then(() => { currentModal = null; });
          }
        }
      </script>